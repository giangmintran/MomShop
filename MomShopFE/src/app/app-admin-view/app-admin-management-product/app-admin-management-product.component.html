<p-toast></p-toast>
<p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>
<div class="container1">
    <div class="block-button mb-3">
        <!-- <button class="btn btn-filter mr-2 btn-outline-primary"  (click)="viewDetailProduct()">Xem chi tiết</button> -->
		<button class="btn btn-add btn-primary text-white"  (click)="createProduct()"> <i class="pi pi-plus" style="font-size: 0.7rem; color: 'var(--primary-color)'"></i> Thêm</button>
		<button *ngIf="!filter" class="btn btn-filter mr-2 btn-primary text-white"  (click)="onFilterChange()">Hiện bộ lọc</button>
        <button *ngIf="filter"class="btn btn-filter mr-2 btn-primary text-white"  (click)="onFilterChange()">Ẩn bộ lọc</button>
        <!-- <button class="btn btn-add mr-2 btn-outline-primary"  (click)="createUsers()">Thêm</button> -->
        <!-- <button class="btn btn-add ml-2 btn-outline-primary" [disabled]="!selectedProduct" (click)="editUser()">Sửa</button> -->
        <!-- <button class="btn btn-add ml-2 btn-delete btn-outline-danger" [disabled]="!selectedProduct" (click)="deleteUser()">Xoá</button> -->
    </div>
    <div class="user">							
		<div class="row mb-2" *ngIf="filter">
			<div class="col-md-3">
				<p-dropdown [options]="listStatus"  [(ngModel)]="filterStatus" placeholder="Trạng thái" [style]="{'height':'40px','width':'100%'}" (onChange)="getProductData()" optionLabel="code" optionValue="value"></p-dropdown>
			</div>
		</div>
		<p class="mb-3 title" style="color: #3e3f40; font-size: 20px;">Danh sách sản phẩm</p>
        <p-table [value]="rows" scrollHeight="1000px"  [paginator]="true" [rows]="20" [rowsPerPageOptions]="[5,10,15,20]" [scrollable]="true" columnResizeMode="expand"
					(onLazyLoad)="getProductData()" [tableStyle]="{'min-width': '100%' ,'font-size':'1rem'}" paginatorPosition="bottom"
			[columns]="colsProduct" selectionMode="multiple" [(selection)]="selectedProduct" [metaKeySelection]="metaKeySelection" [scrollHeight]="getTableHeight(78)"
			>
			<ng-template pTemplate="header" style="height:30px " let-columns>
				<tr>
					<th style="width: 15rem;">Ảnh</th>
					<th *ngFor="let cols of columns" [ngStyle]="{'width': cols.width}">
						{{cols.header}}
					</th>
					<th style="min-width: 1rem; max-width: 1rem;"><i class="pi pi-cog" style="font-size: 1rem"></i></th>
				</tr>
			</ng-template>
			<ng-template pTemplate="body" let-rows let-rowIndex="rowIndex" let-columns="columns">
				<tr [pSelectableRow]="rows">
					<td>
						<img style="width: 200px; height: 200px; object-fit: cover" src="{{baseUrl}}/{{ rows.imageUrl}}">
					</td>
					<td *ngFor="let cols of columns">
						{{rows[cols.field]}}
					</td>
					<td style="max-width: 3rem; min-width: 3rem; justify-content: center;" pFrozenColumn alignFrozen="right" [frozen]="true" class=" b-border-frozen-right b-table-actions">
						<ng-template [ngIf]="true">
							<i class="pi pi-ellipsis-v" style="padding: 50px" (click)="menu.toggle($event)"></i>
							<p-menu #menu [popup]="true" appendTo="body" [model]="listAction[rowIndex]"></p-menu>
						</ng-template>
					</td>
				</tr>
			</ng-template>
		</p-table> 
	</div>
</div>
